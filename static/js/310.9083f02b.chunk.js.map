{"version":3,"file":"static/js/310.9083f02b.chunk.js","mappings":"8OAEaA,E,OAAOC,GAAAA,KAAH,mI,SCMXC,GAAgBC,EAAAA,EAAAA,OAAK,kBACzB,4BADyB,IA4C3B,EAxCe,WAAO,IAAD,EACnB,GAA4BC,EAAAA,EAAAA,YAA5B,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAEjDC,EAAAA,EAAAA,YAAU,WACR,GAAoB,KAAhBF,EACF,KACEG,EAAAA,EAAAA,IAAaH,GAAaI,MAAK,SAAAC,GAAI,OAAIT,EAAUS,EAAKC,QAAnB,GAGpC,CAFC,MAAOC,GACPC,QAAQC,IAAIF,EACb,CAEJ,GAAE,CAACP,IAYJ,OACE,UAAC,IAAD,YACE,UAACV,EAAD,CAAMoB,SAPW,SAAAC,GALK,IAAAC,EAMxBD,EAAEE,iBANsBD,EAOND,EAAEG,cAAcC,SAASC,MAAMC,MALjDlB,EAD6B,KAAVa,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAOhD,EAIG,WACE,kBAAOM,QAAQ,SAAf,sDACA,kBAAOC,KAAK,OAAOC,GAAG,SAASC,KAAK,WACpC,mBAAQF,KAAK,SAAb,uBAEDxB,GAAUA,EAAO2B,OAAS,IAAK,SAAC9B,EAAD,CAAeG,OAAQA,IACtDA,GAA4B,IAAlBA,EAAO2B,SAChB,gFAIP,C,uJClDD,IAAMC,EAAU,mCACVC,EAAY,+BAEZC,EAAY,SAAAC,GAChB,OAAOC,MAAMD,GAAKtB,MAAK,SAAAwB,GACrB,GAAIA,EAASC,GACX,OAAOD,EAASE,MAEnB,GACF,EAEYC,EAAiB,WAC5B,IAAMC,EAAW,UAAMR,EAAN,qCAA4CD,GAE7D,OAAOE,EAAUO,EAClB,EAEY7B,EAAe,SAAAH,GAC1B,IAAMiC,EAAe,UAAMT,EAAN,iCAAwCD,EAAxC,kBAAyDvB,GAE9E,OAAOyB,EAAUQ,EAClB,EAEYC,EAAmB,SAAAC,GAC9B,IAAMC,EAAe,UAAMZ,EAAN,kBAAyBW,EAAzB,oBAA4CZ,GAEjE,OAAOE,EAAUW,EAClB,EAEYC,EAAe,SAAAF,GAC1B,IAAMG,EAAU,UAAMd,EAAN,kBAAyBW,EAAzB,4BAAoDZ,GAEpE,OAAOE,EAAUa,EAClB,EAEYC,EAAe,SAAAJ,GAC1B,IAAMK,EAAU,UAAMhB,EAAN,kBAAyBW,EAAzB,4BAAoDZ,GAEpE,OAAOE,EAAUe,EAClB,C","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","service-API/movies-API.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n\n  padding-top: 20px;\n`;\n","import { useEffect, useState, lazy } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { searchMovies } from '../../service-API/movies-API';\n\nimport { Container } from '../../components/common.styled/common.styled';\nimport { Form } from './Movies.styled';\n\nconst MoviesMatches = lazy(() =>\n  import('../../components/MoviesMatches/MoviesMatches')\n);\n\nconst Movies = () => {\n  const [movies, setMovies] = useState();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (searchQuery !== '') {\n      try {\n        searchMovies(searchQuery).then(data => setMovies(data.results));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [searchQuery]);\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    updateQueryString(e.currentTarget.elements.input.value);\n  };\n\n  return (\n    <Container>\n      <Form onSubmit={onFormSubmit}>\n        <label htmlFor=\"search\">Find some movie you would like to watch</label>\n        <input type=\"text\" id=\"search\" name=\"input\" />\n        <button type=\"submit\">Search</button>\n      </Form>\n      {movies && movies.length > 0 && <MoviesMatches movies={movies} />}\n      {movies && movies.length === 0 && (\n        <p>We haven't found anything. Try another movie title</p>\n      )}\n    </Container>\n  );\n};\n\nexport default Movies;\n","const API_KEY = 'cd7ce70f2d16b0604871e7d56e1ab9d8';\nconst BASIC_URL = 'https://api.themoviedb.org/3';\n\nconst fetchData = url => {\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n};\n\nexport const trendingMovies = () => {\n  const trendingUrl = `${BASIC_URL}/trending/all/day?api_key=${API_KEY}`;\n\n  return fetchData(trendingUrl);\n};\n\nexport const searchMovies = searchQuery => {\n  const searchMoviesUrl = `${BASIC_URL}/search/movie?api_key=${API_KEY}&query=${searchQuery}`;\n\n  return fetchData(searchMoviesUrl);\n};\n\nexport const choosenMovieInfo = movieId => {\n  const movieDetailsUrl = `${BASIC_URL}/movie/${movieId}?api_key=${API_KEY}`;\n\n  return fetchData(movieDetailsUrl);\n};\n\nexport const movieCredits = movieId => {\n  const creditsUrl = `${BASIC_URL}/movie/${movieId}/credits?api_key=${API_KEY}`;\n\n  return fetchData(creditsUrl);\n};\n\nexport const movieReviews = movieId => {\n  const reviewsUrl = `${BASIC_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`;\n\n  return fetchData(reviewsUrl);\n};\n"],"names":["Form","styled","MoviesMatches","lazy","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","searchQuery","get","useEffect","searchMovies","then","data","results","error","console","log","onSubmit","e","query","preventDefault","currentTarget","elements","input","value","htmlFor","type","id","name","length","API_KEY","BASIC_URL","fetchData","url","fetch","response","ok","json","trendingMovies","trendingUrl","searchMoviesUrl","choosenMovieInfo","movieId","movieDetailsUrl","movieCredits","creditsUrl","movieReviews","reviewsUrl"],"sourceRoot":""}